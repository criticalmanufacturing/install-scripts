# Default values for clickhouse.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

image:
  repository: clickhouse/clickhouse-server:24.2
  pullPolicy: Always
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

nameOverride: ""
fullnameOverride: ""

# container limits
resources:
  limits:
    cpu: '4'
    memory: 16Gi
  requests:
    cpu: '0'
    memory: 1Gi


nodeSelector: {}

tolerations: []

affinity: {}

# Service
service:
  name: clickhouse
  type: ClusterIP
  nativetls:
    port: 9440
    name: nativetls
  https:
    port: 8443
    name: https

# Route
ingress:
  enabled: false
  name: clickhouse
  hostSuffix: <cluster suffix>

# Volumes
clickhouseData:
  accessModes: ["ReadWriteOnce"]
  resources:
    requests:
      storage: 50Gi
  storageClassName: <storage class for data>
  pvcName: clickhouse-data
  volumeName: ""

clickhouseLog:
  accessModes: ["ReadWriteOnce"]
  resources:
    requests:
      storage: 10Gi
  storageClassName: <storage class for log>
  pvcName: clickhouse-log
  volumeName: ""

# Config maps
usersConfig:
  name: users
  defaultPassword: <default user password>

clickhouseConfig:
  name: config
  openSSL:
    validateCertificates: false
    invalidCertificateHandler: AcceptCertificateHandler

clickhouse:
  secretName: clickhouse-secrets
  tls:
    autoGenerated: true
    caCertificate: ""
    serverCertificate: ""
    serverKey: ""